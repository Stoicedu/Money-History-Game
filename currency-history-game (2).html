<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Currency History Timeline Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 30px;
            text-align: center;
            border-bottom: 3px solid #f39c12;
        }

        .header h1 {
            font-size: 2.5rem;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2rem;
            color: #34495e;
        }

        .controls {
            padding: 25px 30px;
            background: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .btn-primary {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, #27ae60, #229954);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #95a5a6, #7f8c8d);
            color: white;
        }

        .status {
            margin-left: auto;
            padding: 10px 20px;
            background: rgba(52, 152, 219, 0.1);
            border-radius: 20px;
            color: #2980b9;
            font-weight: 600;
        }

        .drop-zone {
            padding: 30px;
            background: #ffffff;
        }

        .drop-zone h3 {
            color: #2c3e50;
            font-size: 1.5rem;
            margin-bottom: 20px;
            text-align: center;
        }

        .timeline {
            min-height: 120px;
            border: 3px dashed #bdc3c7;
            border-radius: 15px;
            padding: 20px;
            background: rgba(236, 240, 241, 0.3);
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            align-items: center;
            transition: all 0.3s ease;
        }

        .timeline.drag-over {
            border-color: #3498db;
            background: rgba(52, 152, 219, 0.1);
        }

        .timeline:empty:before {
            content: "Drag cards here to arrange them in chronological order";
            color: #7f8c8d;
            font-style: italic;
            font-size: 1.1rem;
        }

        .cards-section {
            padding: 30px;
            background: #ecf0f1;
        }

        .cards-section h3 {
            color: #2c3e50;
            font-size: 1.5rem;
            margin-bottom: 20px;
            text-align: center;
        }

        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            justify-items: center;
        }

        .card {
            width: 280px;
            height: 160px;
            background: linear-gradient(135deg, #ffffff, #f8f9fa);
            border: 2px solid #e9ecef;
            border-radius: 15px;
            padding: 20px;
            cursor: grab;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            position: relative;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            border-color: #3498db;
        }

        .card.dragging {
            opacity: 0.7;
            transform: rotate(5deg) scale(0.95);
        }

        .card.timeline-card {
            width: 200px;
            height: 120px;
            font-size: 0.8rem;
            padding: 15px;
        }

        .card-era {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            color: white;
        }

        .era-ancient { background: linear-gradient(135deg, #8b4513, #a0522d); }
        .era-classical { background: linear-gradient(135deg, #d4af37, #b8860b); }
        .era-medieval { background: linear-gradient(135deg, #9b59b6, #8e44ad); }
        .era-modern { background: linear-gradient(135deg, #e74c3c, #c0392b); }
        .era-contemporary { background: linear-gradient(135deg, #2ecc71, #27ae60); }
        .era-digital { background: linear-gradient(135deg, #f39c12, #e67e22); }

        .card-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .card-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 8px;
        }

        .card-period {
            font-size: 0.95rem;
            color: #7f8c8d;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .card-description {
            font-size: 0.85rem;
            color: #5d6d7e;
            line-height: 1.4;
        }

        .results {
            padding: 30px;
            background: #f8f9fa;
            border-top: 3px solid #3498db;
            display: none;
        }

        .results h3 {
            color: #2c3e50;
            font-size: 1.8rem;
            margin-bottom: 20px;
            text-align: center;
        }

        .score {
            text-align: center;
            padding: 20px;
            margin-bottom: 25px;
            border-radius: 15px;
            font-size: 1.3rem;
            font-weight: 700;
        }

        .score-excellent {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
        }

        .score-good {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
        }

        .score-needs-work {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
        }

        .card-correct {
            border-color: #27ae60 !important;
            box-shadow: 0 0 20px rgba(39, 174, 96, 0.3) !important;
        }

        .card-incorrect {
            border-color: #e74c3c !important;
            box-shadow: 0 0 20px rgba(231, 76, 60, 0.3) !important;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }

            .controls {
                justify-content: center;
            }

            .card {
                width: 100%;
                max-width: 300px;
            }

            .timeline {
                min-height: 200px;
            }

            .status {
                margin: 10px 0 0 0;
                text-align: center;
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>üí∞ Currency History Timeline Game üí∞</h1>
            <p>Arrange the key moments in the history of money in chronological order!</p>
        </header>

        <div class="controls">
            <button id="startBtn" class="btn btn-primary">üéÆ Start Game</button>
            <button id="checkBtn" class="btn btn-success" disabled>‚úÖ Check Answer</button>
            <button id="resetBtn" class="btn btn-secondary">üîÑ Play Again</button>
            <div id="status" class="status">Ready to play!</div>
        </div>

        <div class="drop-zone">
            <h3>üìÖ Arrange cards from oldest to newest:</h3>
            <div id="timeline" class="timeline"></div>
        </div>

        <div class="cards-section">
            <h3>üí≥ Currency History Cards</h3>
            <div id="cardsGrid" class="cards-grid"></div>
        </div>

        <div id="results" class="results">
            <h3>üìä Results & Explanations</h3>
            <div id="scoreDisplay" class="score"></div>
            <div id="explanations"></div>
        </div>
    </div>

    <script>
        // ÌôîÌèê Ïó≠ÏÇ¨ Îç∞Ïù¥ÌÑ∞
        const currencyData = [
            {
                id: "barter",
                title: "Barter System",
                period: "9000-6000 BC",
                year: -8000,
                icon: "üîÑ",
                era: "ancient",
                description: "Direct exchange of goods and services",
                explanation: "Before money existed, people traded goods directly. This system worked in small communities but became inefficient as trade expanded."
            },
            {
                id: "cowrie",
                title: "Cowrie Shells",
                period: "1200 BC",
                year: -1200,
                icon: "üêö",
                era: "ancient",
                description: "First standardized currency using shells",
                explanation: "Cowrie shells were among the first forms of money, used across Africa, Asia, and the Pacific. They were durable, portable, and hard to counterfeit."
            },
            {
                id: "chinese_coins",
                title: "Chinese Spade Coins",
                period: "640 BC",
                year: -640,
                icon: "ü™ô",
                era: "classical",
                description: "First metal coins shaped like farming tools",
                explanation: "Ancient China created standardized metal coins shaped like spades and knives, representing the tools they replaced in trade."
            },
            {
                id: "lydian_coins",
                title: "Lydian Coins",
                period: "600 BC",
                year: -600,
                icon: "üí∞",
                era: "classical",
                description: "First coins made of electrum (gold-silver alloy)",
                explanation: "The Kingdom of Lydia created the first coins from electrum with official stamps guaranteeing weight and purity."
            },
            {
                id: "paper_money",
                title: "Paper Money",
                period: "960-1020 AD",
                year: 990,
                icon: "üìú",
                era: "medieval",
                description: "First official paper currency (Jiaozi)",
                explanation: "The Chinese Song Dynasty issued the world's first official paper money called 'Jiaozi' to solve heavy coin transportation problems."
            },
            {
                id: "gold_standard",
                title: "Gold Standard",
                period: "1816",
                year: 1816,
                icon: "üèÖ",
                era: "modern",
                description: "Currency values backed by gold reserves",
                explanation: "Britain adopted the gold standard, linking currency value directly to gold, providing stability and international adoption."
            },
            {
                id: "bretton_woods",
                title: "End of Gold Standard",
                period: "1971",
                year: 1971,
                icon: "üí∏",
                era: "contemporary",
                description: "Nixon ended USD-gold convertibility",
                explanation: "President Nixon ended the Bretton Woods system, marking the beginning of modern fiat currency systems."
            },
            {
                id: "bitcoin",
                title: "Bitcoin",
                period: "2009",
                year: 2009,
                icon: "‚Çø",
                era: "digital",
                description: "First decentralized digital cryptocurrency",
                explanation: "Satoshi Nakamoto created Bitcoin, the first successful decentralized digital currency using blockchain technology."
            }
        ];

        // Í≤åÏûÑ ÏÉÅÌÉú
        let gameState = {
            started: false,
            completed: false,
            droppedCards: [],
            score: 0
        };

        // Ï†ïÎãµ ÏàúÏÑú
        const correctOrder = currencyData
            .sort((a, b) => a.year - b.year)
            .map(card => card.id);

        // DOM ÏöîÏÜåÎì§
        let startBtn, checkBtn, resetBtn, status, cardsGrid, timeline, results, scoreDisplay, explanations;

        // Ï¥àÍ∏∞Ìôî
        function init() {
            console.log('Í≤åÏûÑ Ï¥àÍ∏∞Ìôî ÏãúÏûë');

            // DOM ÏöîÏÜå Í∞ÄÏ†∏Ïò§Í∏∞
            startBtn = document.getElementById('startBtn');
            checkBtn = document.getElementById('checkBtn');
            resetBtn = document.getElementById('resetBtn');
            status = document.getElementById('status');
            cardsGrid = document.getElementById('cardsGrid');
            timeline = document.getElementById('timeline');
            results = document.getElementById('results');
            scoreDisplay = document.getElementById('scoreDisplay');
            explanations = document.getElementById('explanations');

            // Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà Ï∂îÍ∞Ä
            if (startBtn) {
                startBtn.addEventListener('click', startGame);
                console.log('Start Î≤ÑÌäº Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà Ï∂îÍ∞ÄÎê®');
            }

            if (checkBtn) {
                checkBtn.addEventListener('click', checkAnswer);
                console.log('Check Î≤ÑÌäº Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà Ï∂îÍ∞ÄÎê®');
            }

            if (resetBtn) {
                resetBtn.addEventListener('click', resetGame);
                console.log('Reset Î≤ÑÌäº Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà Ï∂îÍ∞ÄÎê®');
            }

            // Ï¥àÍ∏∞ Ïπ¥Îìú ÏÉùÏÑ±
            createCards();

            // ÌÉÄÏûÑÎùºÏù∏ Ïù¥Î≤§Ìä∏ ÏÑ§Ï†ï
            setupTimeline();

            console.log('Í≤åÏûÑ Ï¥àÍ∏∞Ìôî ÏôÑÎ£å');
        }

        // Ïπ¥Îìú ÏÉùÏÑ±
        function createCards() {
            if (!cardsGrid) {
                console.error('cardsGrid ÏöîÏÜåÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§');
                return;
            }

            cardsGrid.innerHTML = '';

            currencyData.forEach(cardData => {
                const card = document.createElement('div');
                card.className = 'card';
                card.draggable = true;
                card.dataset.cardId = cardData.id;

                card.innerHTML = `
                    <div class="card-era era-${cardData.era}">${cardData.era.toUpperCase()}</div>
                    <div class="card-icon">${cardData.icon}</div>
                    <div class="card-title">${cardData.title}</div>
                    <div class="card-period">${cardData.period}</div>
                    <div class="card-description">${cardData.description}</div>
                `;

                // ÎìúÎûòÍ∑∏ Ïù¥Î≤§Ìä∏
                card.addEventListener('dragstart', handleDragStart);
                card.addEventListener('dragend', handleDragEnd);

                cardsGrid.appendChild(card);
            });

            console.log('Ïπ¥Îìú ÏÉùÏÑ± ÏôÑÎ£å: ' + currencyData.length + 'Í∞ú');
        }

        // ÌÉÄÏûÑÎùºÏù∏ ÏÑ§Ï†ï
        function setupTimeline() {
            if (!timeline) {
                console.error('timeline ÏöîÏÜåÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§');
                return;
            }

            timeline.addEventListener('dragover', handleDragOver);
            timeline.addEventListener('drop', handleDrop);
            timeline.addEventListener('dragenter', handleDragEnter);
            timeline.addEventListener('dragleave', handleDragLeave);

            console.log('ÌÉÄÏûÑÎùºÏù∏ Ïù¥Î≤§Ìä∏ ÏÑ§Ï†ï ÏôÑÎ£å');
        }

        // Í≤åÏûÑ ÏãúÏûë
        function startGame() {
            console.log('Í≤åÏûÑ ÏãúÏûë');

            gameState.started = true;
            gameState.completed = false;
            gameState.droppedCards = [];

            startBtn.disabled = true;
            checkBtn.disabled = false;

            // Ïπ¥Îìú ÏÑûÍ∏∞
            shuffleCards();

            // ÌÉÄÏûÑÎùºÏù∏ Ï¥àÍ∏∞Ìôî
            timeline.innerHTML = '';
            results.style.display = 'none';

            updateStatus('üéÆ Game started! Drag cards to timeline in chronological order');
        }

        // Ïπ¥Îìú ÏÑûÍ∏∞
        function shuffleCards() {
            const cards = Array.from(cardsGrid.children);

            // Fisher-Yates ÏÖîÌîå
            for (let i = cards.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                cardsGrid.insertBefore(cards[j], cards[i].nextSibling);
            }

            console.log('Ïπ¥Îìú ÏÑûÍ∏∞ ÏôÑÎ£å');
        }

        // ÎìúÎûòÍ∑∏ ÏãúÏûë
        function handleDragStart(e) {
            if (!gameState.started) return;

            e.dataTransfer.setData('text/plain', e.target.dataset.cardId);
            e.target.classList.add('dragging');

            console.log('ÎìúÎûòÍ∑∏ ÏãúÏûë:', e.target.dataset.cardId);
        }

        // ÎìúÎûòÍ∑∏ ÎÅù
        function handleDragEnd(e) {
            e.target.classList.remove('dragging');
        }

        // ÎìúÎûòÍ∑∏ Ïò§Î≤Ñ
        function handleDragOver(e) {
            e.preventDefault();
        }

        // ÎìúÎûòÍ∑∏ ÏßÑÏûÖ
        function handleDragEnter(e) {
            e.preventDefault();
            timeline.classList.add('drag-over');
        }

        // ÎìúÎûòÍ∑∏ Îñ†ÎÇ®
        function handleDragLeave(e) {
            if (!timeline.contains(e.relatedTarget)) {
                timeline.classList.remove('drag-over');
            }
        }

        // ÎìúÎ°≠
        function handleDrop(e) {
            e.preventDefault();
            timeline.classList.remove('drag-over');

            if (!gameState.started) return;

            const cardId = e.dataTransfer.getData('text/plain');
            const card = document.querySelector(`[data-card-id="${cardId}"]`);

            if (card && !gameState.droppedCards.includes(cardId)) {
                moveCardToTimeline(card, cardId);
            }
        }

        // Ïπ¥ÎìúÎ•º ÌÉÄÏûÑÎùºÏù∏ÏúºÎ°ú Ïù¥Îèô
        function moveCardToTimeline(card, cardId) {
            // ÌÉÄÏûÑÎùºÏù∏Ïö© Ïπ¥Îìú ÏÉùÏÑ±
            const timelineCard = card.cloneNode(true);
            timelineCard.classList.add('timeline-card');
            timelineCard.draggable = false;

            // ÏõêÎ≥∏ Ïπ¥Îìú Ïà®Í∏∞Í∏∞
            card.style.opacity = '0.3';
            card.draggable = false;

            // ÌÉÄÏûÑÎùºÏù∏Ïóê Ï∂îÍ∞Ä
            timeline.appendChild(timelineCard);
            gameState.droppedCards.push(cardId);

            updateStatus(`üìç ${gameState.droppedCards.length}/8 cards placed`);

            // Î™®Îì† Ïπ¥ÎìúÍ∞Ä Î∞∞ÏπòÎêòÎ©¥
            if (gameState.droppedCards.length === currencyData.length) {
                updateStatus('‚úÖ All cards placed! Click "Check Answer"');
            }

            console.log('Ïπ¥Îìú Î∞∞Ïπò:', cardId, 'Ï¥ù:', gameState.droppedCards.length);
        }

        // Ï†ïÎãµ ÌôïÏù∏
        function checkAnswer() {
            if (gameState.droppedCards.length !== currencyData.length) {
                alert('Please place all cards first!');
                return;
            }

            gameState.completed = true;
            checkBtn.disabled = true;

            calculateScore();
            showResults();

            console.log('Ï†ïÎãµ ÌôïÏù∏ ÏôÑÎ£å');
        }

        // Ï†êÏàò Í≥ÑÏÇ∞
        function calculateScore() {
            let correctCount = 0;
            const timelineCards = Array.from(timeline.children);

            timelineCards.forEach((card, index) => {
                const cardId = card.dataset.cardId;
                const isCorrect = correctOrder[index] === cardId;

                if (isCorrect) {
                    correctCount++;
                    card.classList.add('card-correct');
                } else {
                    card.classList.add('card-incorrect');
                }
            });

            gameState.score = Math.round((correctCount / currencyData.length) * 100);

            console.log(`Ï†êÏàò: ${correctCount}/${currencyData.length} = ${gameState.score}%`);
        }

        // Í≤∞Í≥º ÌëúÏãú
        function showResults() {
            let scoreClass = 'score-needs-work';
            let message = 'Keep learning! üìö';

            if (gameState.score >= 80) {
                scoreClass = 'score-excellent';
                message = 'Excellent! Currency history expert! üèÜ';
            } else if (gameState.score >= 60) {
                scoreClass = 'score-good';
                message = 'Good job! Well done! üëç';
            }

            scoreDisplay.className = `score ${scoreClass}`;
            scoreDisplay.innerHTML = `
                <div>Your Score: ${gameState.score}%</div>
                <div style="font-size: 1rem; margin-top: 10px;">${message}</div>
            `;

            // Ìï¥ÏÑ§ ÌëúÏãú
            let explanationHTML = '<h4 style="margin: 20px 0; color: #2c3e50;">üìö Correct Timeline:</h4>';

            correctOrder.forEach((cardId, index) => {
                const cardData = currencyData.find(card => card.id === cardId);
                explanationHTML += `
                    <div style="margin: 15px 0; padding: 15px; background: #f8f9fa; border-radius: 8px;">
                        <strong>${index + 1}. ${cardData.icon} ${cardData.title} (${cardData.period})</strong>
                        <p style="margin: 8px 0 0 0; color: #5d6d7e;">${cardData.explanation}</p>
                    </div>
                `;
            });

            explanations.innerHTML = explanationHTML;

            results.style.display = 'block';
            results.scrollIntoView({ behavior: 'smooth' });

            updateStatus(`üéØ Game completed! Score: ${gameState.score}%`);
        }

        // Í≤åÏûÑ Î¶¨ÏÖã
        function resetGame() {
            console.log('Í≤åÏûÑ Î¶¨ÏÖã');

            gameState = {
                started: false,
                completed: false,
                droppedCards: [],
                score: 0
            };

            startBtn.disabled = false;
            checkBtn.disabled = true;

            // Ïπ¥Îìú Î¶¨ÏÖã
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => {
                card.style.opacity = '1';
                card.draggable = true;
                card.classList.remove('card-correct', 'card-incorrect', 'dragging');
            });

            // ÌÉÄÏûÑÎùºÏù∏ Ï¥àÍ∏∞Ìôî
            timeline.innerHTML = '';
            results.style.display = 'none';

            updateStatus('üîÑ Game reset! Click "Start Game" to play again');
        }

        // ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏
        function updateStatus(message) {
            if (status) {
                status.textContent = message;
            }
        }

        // ÌéòÏù¥ÏßÄ Î°úÎìúÏãú Ï¥àÍ∏∞Ìôî
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM Î°úÎìú ÏôÑÎ£å, Í≤åÏûÑ Ï¥àÍ∏∞Ìôî');
            init();
        });

        console.log('Ïä§ÌÅ¨Î¶ΩÌä∏ Î°úÎî© ÏôÑÎ£å');
    </script>
</body>
</html>